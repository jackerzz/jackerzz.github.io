<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>twemproxy | Jacker-zzk's Blog</title><meta name="keywords" content="python"><meta name="author" content="Jackerzz-zzk"><meta name="copyright" content="Jackerzz-zzk"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="twemproxy（发音为“two-em-proxy”），又名胡桃夹子，是memcached和redis协议的快速轻量级代理。它主要是为了减少与后端缓存服务器的连接数量。这与协议管道和切分一起，使您能够水平扩展分布式缓存体系结构。  twemproxy 生产环境中部署 twemproxy 如何调整参数 笔记 twemproxy的Python测试设施  Redis Command SupportKe"><meta property="og:type" content="article"><meta property="og:title" content="twemproxy"><meta property="og:url" content="https://jackerzz.github.io/posts/devops/ha/twemproxy.html"><meta property="og:site_name" content="Jacker-zzk&#39;s Blog"><meta property="og:description" content="twemproxy（发音为“two-em-proxy”），又名胡桃夹子，是memcached和redis协议的快速轻量级代理。它主要是为了减少与后端缓存服务器的连接数量。这与协议管道和切分一起，使您能够水平扩展分布式缓存体系结构。  twemproxy 生产环境中部署 twemproxy 如何调整参数 笔记 twemproxy的Python测试设施  Redis Command SupportKe"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/jackerzz/jackerzz.github.io@ersion1.1/images/canva/531767.jpg"><meta property="article:published_time" content="2022-06-05T14:30:34.000Z"><meta property="article:modified_time" content="2023-01-22T12:10:02.240Z"><meta property="article:author" content="Jackerzz-zzk"><meta property="article:tag" content="python"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/jackerzz/jackerzz.github.io@ersion1.1/images/canva/531767.jpg"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/jackerzz/jackerzz.github.io@sion1.0/images/img/bookgirl_ico.jpg"><link rel="canonical" href="https://jackerzz.github.io/posts/devops/ha/twemproxy"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:void 0,translate:void 0,noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:200},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,source:{justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js",css:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css"}},isPhotoFigcaption:!1,islazyload:!0,isAnchor:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"twemproxy",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2023-01-22 20:10:02"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0===o)return;const n=864e5*o,a={value:t,expiry:(new Date).getTime()+n};localStorage.setItem(e,JSON.stringify(a))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!((new Date).getTime()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise((t,o)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.onerror=o,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,t())},document.head.appendChild(n)}),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};const t=saveToLocal.get("theme");"dark"===t?activateDarkMode():"light"===t&&activateLightMode();const o=saveToLocal.get("aside-status");void 0!==o&&("hide"===o?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/jackerzz/jackerzz.github.io@sion1.0/images/avatar/35586448.jpg" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">154</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">28</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">26</div></a></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>文章分类</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(https://cdn.jsdelivr.net/gh/jackerzz/jackerzz.github.io@ersion1.1/images/canva/531767.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Jacker-zzk's Blog</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>文章分类</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">twemproxy</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-06-05T14:30:34.000Z" title="发表于 2022-06-05 22:30:34">2022-06-05</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-01-22T12:10:02.240Z" title="更新于 2023-01-22 20:10:02">2023-01-22</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/">开发笔记</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title="twemproxy"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>twemproxy（发音为“two-em-proxy”），又名胡桃夹子，<br>是memcached和redis协议的快速轻量级代理。<br>它主要是为了减少与后端缓存服务器的连接数量。<br>这与协议管道和切分一起，使您能够水平扩展分布式缓存体系结构。</p><ul><li><a target="_blank" rel="noopener" href="https://github.com/twitter/twemproxy">twemproxy</a></li><li><a target="_blank" rel="noopener" href="https://github.com/twitter/twemproxy/blob/master/notes/recommendation.md">生产环境中部署 twemproxy 如何调整参数</a></li><li><a target="_blank" rel="noopener" href="https://github.com/twitter/twemproxy/tree/master/notes">笔记</a></li><li><a target="_blank" rel="noopener" href="https://github.com/twitter/twemproxy/tree/master/tests">twemproxy的Python测试设施</a></li></ul><h1 id="Redis-Command-Support"><a href="#Redis-Command-Support" class="headerlink" title="Redis Command Support"></a>Redis Command Support</h1><h3 id="Keys-Command"><a href="#Keys-Command" class="headerlink" title="Keys Command"></a>Keys Command</h3><pre><code>+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      Command      | Supported? | Format                                                                                                              |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|        DEL        |    Yes     | DEL key [key …]                                                                                                     |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       DUMP        |    Yes     | DUMP key                                                                                                            |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      EXISTS       |    Yes     | EXISTS key                                                                                                          |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      EXPIRE       |    Yes     | EXPIRE key seconds                                                                                                  |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|     EXPIREAT      |    Yes     | EXPIREAT key timestamp                                                                                              |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       KEYS        |    No      | KEYS pattern                                                                                                        |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      MIGRATE      |    No      | MIGRATE host port key destination-db timeout                                                                        |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       MOVE        |    No      | MOVE key db                                                                                                         |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      OBJECT       |    No      | OBJECT subcommand [arguments [arguments …]]                                                                         |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      PERSIST      |    Yes     | PERSIST key                                                                                                         |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      PEXPIRE      |    Yes     | PEXPIRE key milliseconds                                                                                            |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|     PEXPIREAT     |    Yes     | PEXPIREAT key milliseconds-timestamp                                                                                |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      PTTL         |    Yes     | PTTL key                                                                                                            |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|     RANDOMKEY     |    No      | RANDOMKEY                                                                                                           |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      RENAME       |    No      | RENAME key newkey                                                                                                   |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|     RENAMENX      |    No      | RENAMENX key newkey                                                                                                 |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      RESTORE      |    Yes     | RESTORE key ttl serialized-value                                                                                    |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      SORT         |    Yes     | SORT key [BY pattern] [LIMIT offset count] [GET pattern [GET pattern ...]] [ASC|DESC] [ALPHA] [STORE destination]   |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       TTL         |    Yes     | TTL key                                                                                                             |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      TYPE         |    Yes     | TYPE key                                                                                                            |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      SCAN         |    No      | SCAN cursor [MATCH pattern] [COUNT count]                                                                           |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
</code></pre><h3 id="Strings-Command"><a href="#Strings-Command" class="headerlink" title="Strings Command"></a>Strings Command</h3><pre><code>+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      Command      | Supported? | Format                                                                                                              |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      APPEND       |    Yes     | APPEND key value                                                                                                    |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|     BITCOUNT      |    Yes     | BITCOUNT key [start end]                                                                                            |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|     BITFIELD      |    Yes     | BITFIELD key [GET] [SET] [INCRBY] [WRAP|SAT|FAIL]                                                                   |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       BITOP       |    No      | BITOP operation destkey key [key …]                                                                                 |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      BITPOS       |    Yes     | BITPOS key bit [start] [end]                                                                                        |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       DECR        |    Yes     | DECR key                                                                                                            |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      DECRBY       |    Yes     | DECRBY key decrement                                                                                                |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|        GET        |    Yes     | GET key                                                                                                             |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      GETBIT       |    Yes     | GETBIT key offset                                                                                                   |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      GETDEL       |    Yes     | GETDEL key                                                                                                          |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       GETEX       |    Yes     | GETEX key [EX seconds|PX milliseconds|EXAT timestamp|PXAT milliseconds-timestamp|PERSIST]                           |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|     GETRANGE      |    Yes     | GETRANGE key start end                                                                                              |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      GETSET       |    Yes     | GETSET key value                                                                                                    |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       INCR        |    Yes     | INCR key                                                                                                            |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      INCRBY       |    Yes     | INCRBY key increment                                                                                                |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|    INCRBYFLOAT    |    Yes     | INCRBYFLOAT key increment                                                                                           |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       MGET        |    Yes     | MGET key [key …]                                                                                                    |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       MSET        |    Yes     | MSET key value [key value …]                                                                                        |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      MSETNX       |    No      | MSETNX key value [key value …]                                                                                      |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      PSETEX       |    Yes     | PSETEX key milliseconds value                                                                                       |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|        SET        |    Yes     | SET key value [EX seconds|PX milliseconds|EXAT timestamp|PXAT milliseconds-timestamp|KEEPTTL] [NX|XX] [GET]         |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      SETBIT       |    Yes     | SETBIT key offset value                                                                                             |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       SETEX       |    Yes     | SETEX key seconds value                                                                                             |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       SETNX       |    Yes     | SETNX key value                                                                                                     |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|     SETRANGE      |    Yes     | SETRANGE key offset value                                                                                           |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      STRALGO      |    No      | STRALGO LCS algo-specific-argument [algo-specific-argument …]                                                       |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      STRLEN       |    Yes     | STRLEN key                                                                                                          |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
</code></pre><ul><li>MSET support is not Atomic</li></ul><h3 id="Hashes"><a href="#Hashes" class="headerlink" title="Hashes"></a>Hashes</h3><pre><code>+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      Command      | Supported? | Format                                                                                                              |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       HDEL        |    Yes     | HDEL key field [field ...]                                                                                          |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      HEXISTS      |    Yes     | HEXISTS key field                                                                                                   |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       HGET        |    Yes     | HGET key field                                                                                                      |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      HGETALL      |    Yes     | HGETALL key                                                                                                         |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      HINCRBY      |    Yes     | HINCRBY key field increment                                                                                         |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|    HINCRBYFLOAT   |    Yes     | HINCRBYFLOAT key field increment                                                                                    |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      HKEYS        |    Yes     | HKEYS key                                                                                                           |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      HLEN         |    Yes     | HLEN key                                                                                                            |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      HMGET        |    Yes     | HMGET key field [field ...]                                                                                         |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      HMSET        |    Yes     | HMSET key field value [field value ...]                                                                             |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      HSET         |    Yes     | HSET key field value                                                                                                |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      HSETNX       |    Yes     | HSETNX key field value                                                                                              |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      HVALS        |    Yes     | HVALS key                                                                                                           |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      HSCAN        |    Yes     | HSCAN key cursor [MATCH pattern] [COUNT count]                                                                      |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
</code></pre><h3 id="Lists"><a href="#Lists" class="headerlink" title="Lists"></a>Lists</h3><pre><code>+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      Command      | Supported? | Format                                                                                                              |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      BLMOVE       |    No      | BLMOVE source destination LEFT|RIGHT LEFT|RIGHT timeout                                                             |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       BLPOP       |    No      | BLPOP key [key …] timeout                                                                                           |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       BRPOP       |    No      | BRPOP key [key …] timeout                                                                                           |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|    BRPOPLPUSH     |    No      | BRPOPLPUSH source destination timeout                                                                               |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      LINDEX       |    Yes     | LINDEX key index                                                                                                    |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      LINSERT      |    Yes     | LINSERT key BEFORE|AFTER pivot element                                                                              |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       LLEN        |    Yes     | LLEN key                                                                                                            |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       LMOVE       |    Yes     | LMOVE source destination LEFT|RIGHT LEFT|RIGHT                                                                      |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       LPOP        |    Yes     | LPOP key [count]                                                                                                    |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       LPOS        |    Yes     | LPOS key element [RANK] [COUNT] [MAXLEN]                                                                            |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       LPUSH       |    Yes     | LPUSH key element [element …]                                                                                       |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      LPUSHX       |    Yes     | LPUSHX key element [element …]                                                                                      |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      LRANGE       |    Yes     | LRANGE key start stop                                                                                               |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       LREM        |    Yes     | LREM key count element                                                                                              |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       LSET        |    Yes     | LSET key index element                                                                                              |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       LTRIM       |    Yes     | LTRIM key start stop                                                                                                |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       RPOP        |    Yes     | RPOP key [count]                                                                                                    |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|     RPOPLPUSH     |    Yes*    | RPOPLPUSH source destination                                                                                        |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       RPUSH       |    Yes     | RPUSH key element [element …]                                                                                       |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      RPUSHX       |    Yes     | RPUSHX key element [element …]                                                                                      |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
</code></pre><ul><li>RPOPLPUSH support requires that source and destination keys hash to the same server. You can ensure this by using the same <a href="recommendation.md#hash-tags">hashtag</a> for source and destination key. Twemproxy does no checking on its end to verify that source and destination key hash to the same server, and the RPOPLPUSH command is forwarded to the server that the source key hashes to</li></ul><h3 id="Sets"><a href="#Sets" class="headerlink" title="Sets"></a>Sets</h3><pre><code>+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      Command      | Supported? | Format                                                                                                              |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       SADD        |    Yes     | SADD key member [member …]                                                                                          |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       SCARD       |    Yes     | SCARD key                                                                                                           |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       SDIFF       |    Yes*    | SDIFF key [key …]                                                                                                   |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|    SDIFFSTORE     |    Yes*    | SDIFFSTORE destination key [key …]                                                                                  |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      SINTER       |    Yes*    | SINTER key [key …]                                                                                                  |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|    SINTERSTORE    |    Yes*    | SINTERSTORE destination key [key …]                                                                                 |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|     SISMEMBER     |    Yes     | SISMEMBER key member                                                                                                |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|     SMEMBERS      |    Yes     | SMEMBERS key                                                                                                        |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|    SMISMEMBER     |    Yes     | SMISMEMBER key member [member …]                                                                                    |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       SMOVE       |    Yes*    | SMOVE source destination member                                                                                     |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       SPOP        |    Yes     | SPOP key [count]                                                                                                    |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|    SRANDMEMBER    |    Yes     | SRANDMEMBER key [count]                                                                                             |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       SREM        |    Yes     | SREM key member [member …]                                                                                          |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       SSCAN       |    Yes     | SSCAN key cursor [MATCH] [COUNT]                                                                                    |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      SUNION       |    Yes*    | SUNION key [key …]                                                                                                  |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|    SUNIONSTORE    |    Yes*    | SUNIONSTORE destination key [key …]                                                                                 |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
</code></pre><ul><li>SIDFF, SDIFFSTORE, SINTER, SINTERSTORE, SMOVE, SUNION and SUNIONSTORE support requires that the supplied keys hash to the same server. You can ensure this by using the same <a href="recommendation.md#hash-tags">hashtag</a> for all keys in the command. Twemproxy does no checking on its end to verify that all the keys hash to the same server, and the given command is forwarded to the server that the first key hashes to.</li></ul><h3 id="Sorted-Sets"><a href="#Sorted-Sets" class="headerlink" title="Sorted Sets"></a>Sorted Sets</h3><pre><code>+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      Command      | Supported? | Format                                                                                                              |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|     BZPOPMAX      |    No      | BZPOPMAX key [key …] timeout                                                                                        |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|     BZPOPMIN      |    No      | BZPOPMIN key [key …] timeout                                                                                        |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       ZADD        |    Yes     | ZADD key [NX|XX] [GT|LT] [CH] [INCR] score member [score member …]                                                  |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       ZCARD       |    Yes     | ZCARD key                                                                                                           |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      ZCOUNT       |    Yes     | ZCOUNT key min max                                                                                                  |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       ZDIFF       |    Yes*    | ZDIFF numkeys key [key …] [WITHSCORES]                                                                              |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|    ZDIFFSTORE     |    Yes*    | ZDIFFSTORE destination numkeys key [key …]                                                                          |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      ZINCRBY      |    Yes     | ZINCRBY key increment member                                                                                        |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      ZINTER       |    Yes*    | ZINTER numkeys key [key …] [WEIGHTS] [SUM|MIN|MAX] [WITHSCORES]                                                     |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|    ZINTERSTORE    |    Yes*    | ZINTERSTORE destination numkeys key [key …] [WEIGHTS] [SUM|MIN|MAX]                                                 |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|     ZLEXCOUNT     |    Yes     | ZLEXCOUNT key min max                                                                                               |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      ZMSCORE      |    Yes     | ZMSCORE key member [member …]                                                                                       |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      ZPOPMAX      |    Yes     | ZPOPMAX key [count]                                                                                                 |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      ZPOPMIN      |    Yes     | ZPOPMIN key [count]                                                                                                 |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|    ZRANDMEMBER    |    Yes     | ZRANDMEMBER key [options]                                                                                           |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      ZRANGE       |    Yes     | ZRANGE key min max [BYSCORE|BYLEX] [REV] [LIMIT] [WITHSCORES]                                                       |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|    ZRANGEBYLEX    |    Yes     | ZRANGEBYLEX key min max [LIMIT]                                                                                     |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|   ZRANGEBYSCORE   |    Yes     | ZRANGEBYSCORE key min max [WITHSCORES] [LIMIT]                                                                      |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|    ZRANGESTORE    |    Yes     | ZRANGESTORE dst src min max [BYSCORE|BYLEX] [REV] [LIMIT]                                                           |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       ZRANK       |    Yes     | ZRANK key member                                                                                                    |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       ZREM        |    Yes     | ZREM key member [member …]                                                                                          |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|  ZREMRANGEBYLEX   |    Yes     | ZREMRANGEBYLEX key min max                                                                                          |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|  ZREMRANGEBYRANK  |    Yes     | ZREMRANGEBYRANK key start stop                                                                                      |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
| ZREMRANGEBYSCORE  |    Yes     | ZREMRANGEBYSCORE key min max                                                                                        |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|     ZREVRANGE     |    Yes     | ZREVRANGE key start stop [WITHSCORES]                                                                               |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|  ZREVRANGEBYLEX   |    Yes     | ZREVRANGEBYLEX key max min [LIMIT]                                                                                  |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
| ZREVRANGEBYSCORE  |    Yes     | ZREVRANGEBYSCORE key max min [WITHSCORES] [LIMIT]                                                                   |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|     ZREVRANK      |    Yes     | ZREVRANK key member                                                                                                 |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       ZSCAN       |    Yes     | ZSCAN key cursor [MATCH] [COUNT]                                                                                    |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      ZSCORE       |    Yes     | ZSCORE key member                                                                                                   |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      ZUNION       |    Yes*    | ZUNION numkeys key [key …] [WEIGHTS] [SUM|MIN|MAX] [WITHSCORES]                                                     |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|    ZUNIONSTORE    |    Yes*    | ZUNIONSTORE destination numkeys key [key …] [WEIGHTS] [SUM|MIN|MAX]                                                 |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
</code></pre><ul><li>ZINTERSTORE and ZUNIONSTORE support requires that the supplied keys hash to the same server. You can ensure this by using the same <a href="recommendation.md#hash-tags">hashtag</a> for all keys in the command. Twemproxy does no checking on its end to verify that all the keys hash to the same server, and the given command is forwarded to the server that the first key hashes to.</li></ul><h3 id="HyperLogLog"><a href="#HyperLogLog" class="headerlink" title="HyperLogLog"></a>HyperLogLog</h3><pre><code>+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      Command      | Supported? | Format                                                                                                              |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       PFADD       |    Yes     | PFADD key element [element …]                                                                                       |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      PFCOUNT      |    Yes     | PFCOUNT key [key …]                                                                                                 |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      PFMERGE      |    Yes*    | PFMERGE destkey sourcekey [sourcekey …]                                                                             |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
</code></pre><ul><li>PFMERGE support requires that the supplied keys hash to the same server. You can ensure this by using the same <a href="recommendation.md#hash-tags">hashtag</a> for all keys in the command. Twemproxy does no checking on its end to verify that all the keys hash to the same server, and the given command is forwarded to the server that the first key hashes to.</li></ul><h3 id="Geo-Command"><a href="#Geo-Command" class="headerlink" title="Geo Command"></a>Geo Command</h3><pre><code>+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      Command      | Supported? | Format                                                                                                              |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      GEOADD       |    Yes     | GEOADD key [NX|XX] [CH] longitude latitude member [longitude latitude member …]                                     |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      GEODIST      |    Yes     | GEODIST key member1 member2 [m|km|ft|mi]                                                                            |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      GEOHASH      |    Yes     | GEOHASH key member [member …]                                                                                       |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      GEOPOS       |    Yes     | GEOPOS key member [member …]                                                                                        |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|     GEORADIUS     |    Yes     | GEORADIUS key longitude latitude radius m|km|ft|mi [WITHCOORD] [WITHDIST] [WITHHASH] [count] [ASC|DESC] [STORE] [STOREDIST]|
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
| GEORADIUSBYMEMBER |    Yes     | GEORADIUSBYMEMBER key member radius m|km|ft|mi [WITHCOORD] [WITHDIST] [WITHHASH] [count] [ASC|DESC] [STORE] [STOREDIST]|
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|     GEOSEARCH     |    Yes     | GEOSEARCH key [FROMMEMBER] [FROMLONLAT] [circle] [box] [ASC|DESC] [count] [WITHCOORD] [WITHDIST] [WITHHASH]         |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|  GEOSEARCHSTORE   |    Yes     | GEOSEARCHSTORE destination source [FROMMEMBER] [FROMLONLAT] [circle] [box] [ASC|DESC] [count] [WITHCOORD] [WITHDIST] [WITHHASH] [STOREDIST]|
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
</code></pre><h3 id="Pub-Sub-不支持"><a href="#Pub-Sub-不支持" class="headerlink" title="Pub/Sub(不支持)"></a>Pub/Sub(<code>不支持</code>)</h3><pre><code>+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      Command      | Supported? | Format                                                                                                              |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|    PSUBSCRIBE     |    No      | PSUBSCRIBE pattern [pattern …]                                                                                      |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      PUBLISH      |    No      | PUBLISH channel message                                                                                             |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      PUBSUB       |    No      | PUBSUB subcommand [argument [argument …]]                                                                           |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|   PUNSUBSCRIBE    |    No      | PUNSUBSCRIBE [pattern [pattern …]]                                                                                  |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|     SUBSCRIBE     |    No      | SUBSCRIBE channel [channel …]                                                                                       |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|    UNSUBSCRIBE    |    No      | UNSUBSCRIBE [channel [channel …]]                                                                                   |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
</code></pre><h3 id="Transactions-不支持"><a href="#Transactions-不支持" class="headerlink" title="Transactions(不支持)"></a>Transactions(<code>不支持</code>)</h3><pre><code>+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      Command      | Supported? | Format                                                                                                              |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      DISCARD      |    No      | DISCARD                                                                                                             |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       EXEC        |    No      | EXEC                                                                                                                |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       MULTI       |    No      | MULTI                                                                                                               |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      UNWATCH      |    No      | UNWATCH                                                                                                             |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       WATCH       |    No      | WATCH key [key …]                                                                                                   |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
</code></pre><h3 id="Scripting-部分不支持"><a href="#Scripting-部分不支持" class="headerlink" title="Scripting(部分不支持)"></a>Scripting(<code>部分不支持</code>)</h3><pre><code>+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      Command      | Supported? | Format                                                                                                              |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       EVAL        |    Yes*    | EVAL script numkeys key [key …] arg [arg …]                                                                         |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      EVALSHA      |    Yes*    | EVALSHA sha1 numkeys key [key …] arg [arg …]                                                                        |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|   SCRIPT DEBUG    |    No      | SCRIPT DEBUG YES|SYNC|NO                                                                                            |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|   SCRIPT EXISTS   |    No      | SCRIPT EXISTS sha1 [sha1 …]                                                                                         |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|   SCRIPT FLUSH    |    No      | SCRIPT FLUSH [ASYNC|SYNC]                                                                                           |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|    SCRIPT KILL    |    No      | SCRIPT KILL                                                                                                         |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|    SCRIPT LOAD    |    No      | SCRIPT LOAD script                                                                                                  |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
</code></pre><ul><li>EVAL and EVALSHA support is limited to scripts that take at least 1 key. If multiple keys are used, all keys must hash to the same server. You can ensure this by using the same <a href="recommendation.md#hash-tags">hashtag</a> for all keys. If you use more than 1 key, the proxy does no checking to verify that all keys hash to the same server, and the entire command is forwarded to the server that the first key hashes to</li></ul><h3 id="Connection-部分不支持"><a href="#Connection-部分不支持" class="headerlink" title="Connection(部分不支持)"></a>Connection(<code>部分不支持</code>)</h3><pre><code>+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      Command      | Supported? | Format                                                                                                              |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       AUTH        |    No      | AUTH password                                                                                                       |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       ECHO        |    No      | ECHO message                                                                                                        |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       PING        |    Yes     | PING                                                                                                                |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|       QUIT        |    Yes     | QUIT                                                                                                                |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      SELECT       |    No      | SELECT index                                                                                                        |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
</code></pre><h3 id="Server-部分不支持"><a href="#Server-部分不支持" class="headerlink" title="Server(部分不支持)"></a>Server(<code>部分不支持</code>)</h3><pre><code>+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      Command      | Supported? | Format                                                                                                              |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|    BGREWRITEAOF   |    No      | BGREWRITEAOF                                                                                                        |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      BGSAVE       |    No      | BGSAVE                                                                                                              |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|    CLIENT KILL    |    No      | CLIENT KILL ip:port                                                                                                 |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|    CLIENT LIST    |    No      | CLIENT LIST                                                                                                         |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|    CONFIG GET     |    No      | CONFIG GET parameter                                                                                                |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|    CONFIG SET     |    No      | CONFIG SET parameter value                                                                                          |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|  CONFIG RESETSTAT |    No      | CONFIG RESETSTAT                                                                                                    |
+-------------------+-------------+--------------------------------------------------------------------------------------------------------------------+
|     DBSIZE        |    No      | DBSIZE                                                                                                              |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|    DEBUG OBJECT   |    No      | DEBUG OBJECT key                                                                                                    |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|    DEBUG SEGFAULT |    No      | DEBUG SEGFAULT                                                                                                      |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|     FLUSHALL      |    No      | FLUSHALL                                                                                                            |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|     FLUSHDB       |    No      | FLUSHDB                                                                                                             |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      INFO         |    No      | INFO                                                                                                                |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|     LASTSAVE      |    No      | LASTSAVE                                                                                                            |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|     MONITOR       |    No      | MONITOR                                                                                                             |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      SAVE         |    No      | SAVE                                                                                                                |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|     SHUTDOWN      |    No      | SHUTDOWN [NOSAVE] [SAVE]                                                                                            |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|     SLAVEOF       |    No      | SLAVEOF host port                                                                                                   |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|     SLOWLOG       |    No      | SLOWLOG subcommand [argument]                                                                                       |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      SYNC         |    No      | SYNC                                                                                                                |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|      TIME         |    No      | TIME                                                                                                                |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|     COMMAND       |    Yes     | COMMAND                                                                                                     |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
|     LOLWUT        |    Yes     | LOLWUT [ argument ...]                                                                                              |
+-------------------+------------+---------------------------------------------------------------------------------------------------------------------+
</code></pre><ul><li>COMMAND is forwarded to an arbitrarily chosen redis backend for the benefit of tools such as <code>redis-cli</code>.<br>It assumes that all proxied redis servers support the same backend.<br>There is no post-processing; Commands that are not supported by twemproxy are not filtered out.</li><li>LOLWUT is also forwarded to an arbitrarily chosen redis backend because it does not depend on the state of the database and the presence of the command would not affect production applications.<br>It can be used as a reference for adding future commands with no keys and a variable-length argument list.<br>Other commands such as <code>TIME</code> continue to be unsupported. They may vary based on state of the database (e.g. out of sync clocks). Using EVAL with a key known to be on the specific backend server can be done instead.</li></ul><h2 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h2><ul><li>redis commands are not case sensitive</li><li>only vectored commands ‘MGET key [key …]’, ‘MSET key value [key value …]’, ‘DEL key [key …]’, ‘UNLINK key [key …]’, ‘EXISTS key [key …]’ needs to be fragmented</li></ul><h2 id="Performance"><a href="#Performance" class="headerlink" title="Performance"></a>Performance</h2><h3 id="Setup"><a href="#Setup" class="headerlink" title="Setup"></a>Setup</h3><ul><li>redis-server running on machine A.</li><li>nutcracker running on machine A as a local proxy to redis-server.</li><li>redis-benchmark running on machine B.</li><li>machine A != machine B.</li><li>nutcracker built with –enable-debug=no</li><li>nutcracker running with mbuf-size of 512 (-m 512)</li><li>redis-server built from redis 2.6 branch</li></ul><h3 id="redis-benchmark-against-redis-server"><a href="#redis-benchmark-against-redis-server" class="headerlink" title="redis-benchmark against redis-server"></a>redis-benchmark against redis-server</h3><pre><code>$ redis-benchmark -h &lt;machine-A&gt; -q -t set,get,incr,lpush,lpop,sadd,spop,lpush,lrange -c 100 -p 6379
SET: 89285.71 requests per second
GET: 92592.59 requests per second
INCR: 89285.71 requests per second
LPUSH: 90090.09 requests per second
LPOP: 90090.09 requests per second
SADD: 90090.09 requests per second
SPOP: 93457.95 requests per second
LPUSH (needed to benchmark LRANGE): 89285.71 requests per second
LRANGE_100 (first 100 elements): 36496.35 requests per second
LRANGE_300 (first 300 elements): 15748.03 requests per second
LRANGE_500 (first 450 elements): 11135.86 requests per second
LRANGE_600 (first 600 elements): 8650.52 requests per second
</code></pre><h3 id="redis-benchmark-against-nutcracker-proxing-redis-server"><a href="#redis-benchmark-against-nutcracker-proxing-redis-server" class="headerlink" title="redis-benchmark against nutcracker proxing redis-server"></a>redis-benchmark against nutcracker proxing redis-server</h3><pre><code>$ redis-benchmark -h &lt;machine-A&gt; -q -t set,get,incr,lpush,lpop,sadd,spop,lpush,lrange -c 100 -p 22121
SET: 85470.09 requests per second
GET: 86956.52 requests per second
INCR: 85470.09 requests per second
LPUSH: 84745.77 requests per second
LPOP: 86206.90 requests per second
SADD: 84745.77 requests per second
SPOP: 86956.52 requests per second
LPUSH (needed to benchmark LRANGE): 84745.77 requests per second
LRANGE_100 (first 100 elements): 29761.90 requests per second
LRANGE_300 (first 300 elements): 12376.24 requests per second
LRANGE_500 (first 450 elements): 8605.85 requests per second
LRANGE_600 (first 600 elements): 6587.62 requests per second
</code></pre><h2 id="redis-auth-feature"><a href="#redis-auth-feature" class="headerlink" title="redis-auth feature"></a>redis-auth feature</h2><ul><li><p>you can enable redis-auth for a pool with ‘redis_auth’:</p><pre><code>  alpha:
    listen: 127.0.0.1:22121
    hash: fnv1a_64
    distribution: ketama
    redis: true
    redis_auth: testpass
</code></pre></li><li><p>notice:</p><ul><li><em>MUST</em> set all redis with a same passwd, and all twemproxy with the same passwd</li><li>Length of password should be less than 256</li></ul></li></ul><h2 id="redis-sentinel-feature"><a href="#redis-sentinel-feature" class="headerlink" title="redis-sentinel feature"></a>redis-sentinel feature</h2><ul><li><p>You can configure sentinel for a pool with ‘sentinels’ to let twemproxy works with sentinel:</p><pre><code>  sigma:
    listen: 127.0.0.1:22125
    hash: fnv1a_64
    distribution: ketama
    auto_eject_hosts: false
    redis: true
    server_retry_timeout: 2000
    server_failure_limit: 1
    servers:
      - 127.0.0.1:6379:1 server1
      - 127.0.0.1:6380:1 server2
    sentinels:
      - 127.0.0.1:26379:1
      - 127.0.0.1:26380:1
      - 127.0.0.1:26381:1
</code></pre></li><li><p>notice:</p><ul><li>You should configure all the sentinels you used. Twemproxy will connect to the alive sentinels when some are down</li><li>Weight of sentinel is not used. Twemproxy keeps it because of the server load code reuse</li></ul></li></ul><p>See <a href="./sentinel.md">sentinel.md</a> for more details.</p><h1 id="Memcache-Command-Support"><a href="#Memcache-Command-Support" class="headerlink" title="Memcache Command Support"></a>Memcache Command Support</h1><h3 id="Request"><a href="#Request" class="headerlink" title="Request"></a>Request</h3><ul><li>Twemproxy implements only the memached ASCII commands</li><li>Binary commands are currently unsupported</li></ul><h4 id="Ascii-Storage-Command"><a href="#Ascii-Storage-Command" class="headerlink" title="Ascii Storage Command"></a>Ascii Storage Command</h4><pre><code>+-------------------+------------+--------------------------------------------------------------------------+
|      Command      | Supported? | Format                                                                   |
+-------------------+------------+--------------------------------------------------------------------------+
|        set        |    Yes     | set &lt;key&gt; &lt;flags&gt; &lt;expiry&gt; &lt;datalen&gt; [noreply]\r\n&lt;data&gt;\r\n             |
+-------------------+------------+--------------------------------------------------------------------------+
|        add        |    Yes     | add &lt;key&gt; &lt;flags&gt; &lt;expiry&gt; &lt;datalen&gt; [noreply]\r\n&lt;data&gt;\r\n             |
+-------------------+------------+--------------------------------------------------------------------------+
|      replace      |    Yes     | replace &lt;key&gt; &lt;flags&gt; &lt;expiry&gt; &lt;datalen&gt; [noreply]\r\n&lt;data&gt;\r\n         |
+-------------------+------------+--------------------------------------------------------------------------+
|      append       |    Yes     | append &lt;key&gt; &lt;flags&gt; &lt;expiry&gt; &lt;datalen&gt; [noreply]\r\n&lt;data&gt;\r\n          |
+-------------------+------------+--------------------------------------------------------------------------+
|      prepend      |    Yes     | prepend &lt;key&gt; &lt;flags&gt; &lt;expiry&gt; &lt;datalen&gt; [noreply]\r\n&lt;data&gt;\r\n         |
+-------------------+------------+--------------------------------------------------------------------------+
|       cas         |    Yes     | cas &lt;key&gt; &lt;flags&gt; &lt;expiry&gt; &lt;datalen&gt; &lt;cas&gt; [noreply]\r\n&lt;data&gt;\r\n       |
+-------------------+------------+--------------------------------------------------------------------------+
</code></pre><ul><li>Where,<ul><li><flags>- uint32_t : data specific client side flags</flags></li><li><expiry>- uint32_t : expiration time (in seconds)</expiry></li><li><datalen>- uint32_t : size of the data (in bytes)</datalen></li><li><data>- uint8_t[]: data block</data></li><li><cas>- uint64_t</cas></li></ul></li></ul><h4 id="Ascii-Retrieval-Command"><a href="#Ascii-Retrieval-Command" class="headerlink" title="Ascii Retrieval Command"></a>Ascii Retrieval Command</h4><pre><code>+-------------------+------------+--------------------------------------------------------------------------+
|      Command      | Supported? | Format                                                                   |
+-------------------+------------+--------------------------------------------------------------------------+
|        get        |    Yes     | get &lt;key&gt; [&lt;key&gt;]+\r\n                                                   |
+-------------------+------------+--------------------------------------------------------------------------+
|        gets       |    Yes     | gets &lt;key&gt; [&lt;key&gt;]+\r\n                                                  |
+-------------------+------------+--------------------------------------------------------------------------+
</code></pre><h4 id="Ascii-Delete"><a href="#Ascii-Delete" class="headerlink" title="Ascii Delete"></a>Ascii Delete</h4><pre><code>+-------------------+------------+--------------------------------------------------------------------------+
|      Command      | Supported? | Format                                                                   |
+-------------------+------------+--------------------------------------------------------------------------+
|        delete     |    Yes     | delete &lt;key&gt; [noreply]\r\n                                               |
+-------------------+------------+--------------------------------------------------------------------------+
</code></pre><h4 id="Ascii-Arithmetic-Command"><a href="#Ascii-Arithmetic-Command" class="headerlink" title="Ascii Arithmetic Command"></a>Ascii Arithmetic Command</h4><pre><code>+-------------------+------------+--------------------------------------------------------------------------+
|      Command      | Supported? | Format                                                                   |
+-------------------+------------+--------------------------------------------------------------------------+
|        incr       |    Yes     | incr &lt;key&gt; &lt;value&gt; [noreply]\r\n                                         |
+-------------------+------------+--------------------------------------------------------------------------+
|        decr       |    Yes     | decr &lt;key&gt; &lt;value&gt; [noreply]\r\n                                         |
+-------------------+------------+--------------------------------------------------------------------------+
</code></pre><ul><li>Where,<ul><li><value>- uint64_t</value></li></ul></li></ul><h4 id="Ascii-Misc-Command"><a href="#Ascii-Misc-Command" class="headerlink" title="Ascii Misc Command"></a>Ascii Misc Command</h4><pre><code>+-------------------+------------+--------------------------------------------------------------------------+
|      Command      | Supported? | Format                                                                   |
+-------------------+------------+--------------------------------------------------------------------------+
|       touch       |    Yes     | touch &lt;key&gt; &lt;expiry&gt;[noreply]\r\n                                        |
+-------------------+------------+--------------------------------------------------------------------------+
|        gat        |  Planned   | gat &lt;expiry&gt; &lt;key&gt;+\r\n                                                  |
+-------------------+------------+--------------------------------------------------------------------------+
|        gats       |  Planned   | gats &lt;expiry&gt; &lt;key&gt;+\r\n                                                 |
+-------------------+------------+--------------------------------------------------------------------------+
|        quit       |    Yes     | quit\r\n                                                                 |
+-------------------+------------+--------------------------------------------------------------------------+
|      flush_all    |    No      | flush_all [&lt;delay&gt;] [noreply]\r\n                                        |
+-------------------+------------+--------------------------------------------------------------------------+
|      version      |    Yes     | version\r\n                                                              |
+-------------------+------------+--------------------------------------------------------------------------+
|      verbosity    |    No      | verbosity &lt;num&gt; [noreply]\r\n                                            |
+-------------------+------------+--------------------------------------------------------------------------+
|       stats       |    No      | stats\r\n                                                                |
+-------------------+------------+--------------------------------------------------------------------------+
|       stats       |    No      | stats &lt;args&gt;\r\n                                                         |
+-------------------+------------+--------------------------------------------------------------------------+
</code></pre><h3 id="Response"><a href="#Response" class="headerlink" title="Response"></a>Response</h3><h4 id="Error-Responses"><a href="#Error-Responses" class="headerlink" title="Error Responses"></a>Error Responses</h4><pre><code>ERROR\r\n
CLIENT_ERROR [error]\r\n
SERVER_ERROR [error]\r\n

Where,
- ERROR means client sent a non-existent command name
- CLIENT_ERROR means that command sent by the client does not conform to the protocol
- SERVER_ERROR means that there was an error on the server side that made processing of the command impossible
</code></pre><h4 id="Storage-Command-Responses"><a href="#Storage-Command-Responses" class="headerlink" title="Storage Command Responses"></a>Storage Command Responses</h4><pre><code>STORED\r\n
NOT_STORED\r\n
EXISTS\r\n
NOT_FOUND\r\n

Where,
- STORED indicates success.
- NOT_STORED indicates the data was not stored because condition for an add or replace wasn&#39;t met.
- EXISTS indicates that the item you are trying to store with a cas has been modified since you last fetched it.
- NOT_FOUND indicates that the item you are trying to store with a cas does not exist.
</code></pre><h4 id="Delete-Command-Responses"><a href="#Delete-Command-Responses" class="headerlink" title="Delete Command Responses"></a>Delete Command Responses</h4><pre><code>NOT_FOUND\r\n
DELETED\r\n
</code></pre><h4 id="Retrieval-Responses"><a href="#Retrieval-Responses" class="headerlink" title="Retrieval Responses"></a>Retrieval Responses</h4><pre><code>END\r\n
VALUE &lt;key&gt; &lt;flags&gt; &lt;datalen&gt; [&lt;cas&gt;]\r\n&lt;data&gt;\r\nEND\r\n
VALUE &lt;key&gt; &lt;flags&gt; &lt;datalen&gt; [&lt;cas&gt;]\r\n&lt;data&gt;\r\n[VALUE &lt;key&gt; &lt;flags&gt; &lt;datalen&gt; [&lt;cas&gt;]\r\n&lt;data&gt;]+\r\nEND\r\n
</code></pre><h4 id="Arithmetic-Responses"><a href="#Arithmetic-Responses" class="headerlink" title="Arithmetic Responses"></a>Arithmetic Responses</h4><pre><code>NOT_FOUND\r\n
&lt;value&gt;\r\n

Where,
- &lt;value&gt; - uint64_t : new key value after incr or decr operation
</code></pre><h4 id="Touch-Command-Responses"><a href="#Touch-Command-Responses" class="headerlink" title="Touch Command Responses"></a>Touch Command Responses</h4><pre><code>NOT_FOUND\r\n
TOUCHED\r\n
</code></pre><h4 id="Statistics-Response"><a href="#Statistics-Response" class="headerlink" title="Statistics Response"></a>Statistics Response</h4><pre><code>[STAT &lt;name&gt; &lt;value&gt;\r\n]+END\r\n
</code></pre><h4 id="Misc-Responses"><a href="#Misc-Responses" class="headerlink" title="Misc Responses"></a>Misc Responses</h4><pre><code>OK\r\n
VERSION &lt;version&gt;\r\n
</code></pre><h3 id="Notes"><a href="#Notes" class="headerlink" title="Notes"></a>Notes</h3><ul><li>set always creates mapping irrespective of whether it is present on not.</li><li>add, adds only if the mapping is not present</li><li>replace, only replaces if the mapping is present</li><li>append and prepend command ignore flags and expiry values</li><li>noreply instructs the server to not send the reply even if there is an error.</li><li>decr of 0 is 0, while incr of UINT64_MAX is 0</li><li>maximum length of the key is 250 characters</li><li>expiry of 0 means that item never expires, though it could be evicted from the cache</li><li>non-zero expiry is either unix time (# seconds since 01/01/1970) or,<br>offset in seconds from the current time (&lt; 60 x 60 x 24 x 30 seconds = 30 days)</li><li>expiry time is with respect to the server (not client)</li><li><datalen>can be zero and when it is, the<data>block is empty.</data></datalen></li><li>Thoughts:<ul><li>ascii protocol is easier to debug - think using strace or tcpdump to see<br>protocol on the wire, Or using telnet or netcat or socat to build memcache<br>requests and responses<br><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/2525188/are-binary-protocols-dead">https://stackoverflow.com/questions/2525188/are-binary-protocols-dead</a></li><li>nutcracker will support the more efficient meta-text protocol after the protocol<br>is marked as stable and memcached servers using it have had several releases.</li><li><a target="_blank" rel="noopener" href="https://news.ycombinator.com/item?id=1712788">https://news.ycombinator.com/item?id=1712788</a></li></ul></li></ul></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者:</span> <span class="post-copyright-info"><a href="https://jackerzz.github.io">Jackerzz-zzk</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接:</span> <span class="post-copyright-info"><a href="https://jackerzz.github.io/posts/devops/ha/twemproxy.html">https://jackerzz.github.io/posts/devops/ha/twemproxy.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明:</span> <span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://jackerzz.github.io" target="_blank">Jacker-zzk's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/python/">python</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/jackerzz/jackerzz.github.io@ersion1.1/images/canva/531767.jpg" data-sites="wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/devops/ha/k8s_psql.html"><img class="prev-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/jackerzz/jackerzz.github.io@ersion1.1/images/canva/3244513.jpg" onerror='onerror=null,src="http://static.kongdf.com/bg4.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Haproxy可以与Patroni配合</div></div></a></div><div class="next-post pull-right"><a href="/posts/devops/ansible/ansible02.html"><img class="next-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/jackerzz/jackerzz.github.io@ersion1.1/images/canva/3244513.jpg" onerror='onerror=null,src="http://static.kongdf.com/bg4.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">ansible Api 开发技巧 2</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/Bookmark/distributed.html" title="分布式"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/jackerzz/jackerzz.github.io@ersion1.1/images/canva/1142950.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-03-27</div><div class="title">分布式</div></div></a></div><div><a href="/posts/model/average.html" title="均线策略"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/jackerzz/jackerzz.github.io@ersion1.1/images/canva/2579916.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-07-15</div><div class="title">均线策略</div></div></a></div><div><a href="/posts/standardlibrary/gunicorn.html" title="Gunicorn与gevent"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/jackerzz/jackerzz.github.io@ersion1.1/images/canva/2753432.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-08-19</div><div class="title">Gunicorn与gevent</div></div></a></div><div><a href="/posts/devops/Architecture/Netflix.html" title="Netflix经典推荐系统架构"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/jackerzz/jackerzz.github.io@ersion1.1/images/canva/4751187.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-08-21</div><div class="title">Netflix经典推荐系统架构</div></div></a></div><div><a href="/posts/devops/Architecture/acl.html" title="Cisco ACL 配置解析"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/jackerzz/jackerzz.github.io@ersion1.1/images/canva/3408744.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-03-27</div><div class="title">Cisco ACL 配置解析</div></div></a></div><div><a href="/posts/devops/Architecture/flask_api.html" title="flask 使用高并发下引发系统崩溃修复记录"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/jackerzz/jackerzz.github.io@ersion1.1/images/canva/615299.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-05-27</div><div class="title">flask 使用高并发下引发系统崩溃修复记录</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/jackerzz/jackerzz.github.io@sion1.0/images/avatar/35586448.jpg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info__name">Jackerzz-zzk</div><div class="author-info__description">有趣的旅行</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">154</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">28</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">26</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/jackerzz"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/jackerzz" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="/miningrest1024@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">想赢,不一定用实力和本Q,最重要的是信心和胆识,放弃,就一定是输,尝试还有一半机会</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Redis-Command-Support"><span class="toc-number">1.</span> <span class="toc-text">Redis Command Support</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Keys-Command"><span class="toc-number">1.0.1.</span> <span class="toc-text">Keys Command</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Strings-Command"><span class="toc-number">1.0.2.</span> <span class="toc-text">Strings Command</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Hashes"><span class="toc-number">1.0.3.</span> <span class="toc-text">Hashes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Lists"><span class="toc-number">1.0.4.</span> <span class="toc-text">Lists</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Sets"><span class="toc-number">1.0.5.</span> <span class="toc-text">Sets</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Sorted-Sets"><span class="toc-number">1.0.6.</span> <span class="toc-text">Sorted Sets</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HyperLogLog"><span class="toc-number">1.0.7.</span> <span class="toc-text">HyperLogLog</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Geo-Command"><span class="toc-number">1.0.8.</span> <span class="toc-text">Geo Command</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Pub-Sub-%E4%B8%8D%E6%94%AF%E6%8C%81"><span class="toc-number">1.0.9.</span> <span class="toc-text">Pub&#x2F;Sub(不支持)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Transactions-%E4%B8%8D%E6%94%AF%E6%8C%81"><span class="toc-number">1.0.10.</span> <span class="toc-text">Transactions(不支持)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Scripting-%E9%83%A8%E5%88%86%E4%B8%8D%E6%94%AF%E6%8C%81"><span class="toc-number">1.0.11.</span> <span class="toc-text">Scripting(部分不支持)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Connection-%E9%83%A8%E5%88%86%E4%B8%8D%E6%94%AF%E6%8C%81"><span class="toc-number">1.0.12.</span> <span class="toc-text">Connection(部分不支持)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Server-%E9%83%A8%E5%88%86%E4%B8%8D%E6%94%AF%E6%8C%81"><span class="toc-number">1.0.13.</span> <span class="toc-text">Server(部分不支持)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Note"><span class="toc-number">1.1.</span> <span class="toc-text">Note</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Performance"><span class="toc-number">1.2.</span> <span class="toc-text">Performance</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Setup"><span class="toc-number">1.2.1.</span> <span class="toc-text">Setup</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#redis-benchmark-against-redis-server"><span class="toc-number">1.2.2.</span> <span class="toc-text">redis-benchmark against redis-server</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#redis-benchmark-against-nutcracker-proxing-redis-server"><span class="toc-number">1.2.3.</span> <span class="toc-text">redis-benchmark against nutcracker proxing redis-server</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#redis-auth-feature"><span class="toc-number">1.3.</span> <span class="toc-text">redis-auth feature</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#redis-sentinel-feature"><span class="toc-number">1.4.</span> <span class="toc-text">redis-sentinel feature</span></a></li></ol><li class="toc-item toc-level-1"><a class="toc-link" href="#Memcache-Command-Support"><span class="toc-number">2.</span> <span class="toc-text">Memcache Command Support</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Request"><span class="toc-number">2.0.1.</span> <span class="toc-text">Request</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Ascii-Storage-Command"><span class="toc-number">2.0.1.1.</span> <span class="toc-text">Ascii Storage Command</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ascii-Retrieval-Command"><span class="toc-number">2.0.1.2.</span> <span class="toc-text">Ascii Retrieval Command</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ascii-Delete"><span class="toc-number">2.0.1.3.</span> <span class="toc-text">Ascii Delete</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ascii-Arithmetic-Command"><span class="toc-number">2.0.1.4.</span> <span class="toc-text">Ascii Arithmetic Command</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ascii-Misc-Command"><span class="toc-number">2.0.1.5.</span> <span class="toc-text">Ascii Misc Command</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Response"><span class="toc-number">2.0.2.</span> <span class="toc-text">Response</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Error-Responses"><span class="toc-number">2.0.2.1.</span> <span class="toc-text">Error Responses</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Storage-Command-Responses"><span class="toc-number">2.0.2.2.</span> <span class="toc-text">Storage Command Responses</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Delete-Command-Responses"><span class="toc-number">2.0.2.3.</span> <span class="toc-text">Delete Command Responses</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Retrieval-Responses"><span class="toc-number">2.0.2.4.</span> <span class="toc-text">Retrieval Responses</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Arithmetic-Responses"><span class="toc-number">2.0.2.5.</span> <span class="toc-text">Arithmetic Responses</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Touch-Command-Responses"><span class="toc-number">2.0.2.6.</span> <span class="toc-text">Touch Command Responses</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Statistics-Response"><span class="toc-number">2.0.2.7.</span> <span class="toc-text">Statistics Response</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Misc-Responses"><span class="toc-number">2.0.2.8.</span> <span class="toc-text">Misc Responses</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Notes"><span class="toc-number">2.0.3.</span> <span class="toc-text">Notes</span></a></li></ol></li></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/LLM/cost.html" title="Prompt Engineering co star framework(提示词工程架构)"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/jackerzz/jackerzz.github.io@ersion1.1/images/canva/3560044.jpg" onerror='this.onerror=null,this.src="http://static.kongdf.com/bg4.jpg"' alt="Prompt Engineering co star framework(提示词工程架构)"></a><div class="content"><a class="title" href="/posts/LLM/cost.html" title="Prompt Engineering co star framework(提示词工程架构)">Prompt Engineering co star framework(提示词工程架构)</a><time datetime="2024-07-12T15:01:52.000Z" title="发表于 2024-07-12 23:01:52">2024-07-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/devops/Architecture/jira_tools.html" title="基于flask的Jira 操作公共类"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/jackerzz/jackerzz.github.io@ersion1.1/images/canva/615299.jpg" onerror='this.onerror=null,this.src="http://static.kongdf.com/bg4.jpg"' alt="基于flask的Jira 操作公共类"></a><div class="content"><a class="title" href="/posts/devops/Architecture/jira_tools.html" title="基于flask的Jira 操作公共类">基于flask的Jira 操作公共类</a><time datetime="2024-06-10T16:00:00.000Z" title="发表于 2024-06-11 00:00:00">2024-06-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/devops/Architecture/flask_api.html" title="flask 使用高并发下引发系统崩溃修复记录"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/jackerzz/jackerzz.github.io@ersion1.1/images/canva/615299.jpg" onerror='this.onerror=null,this.src="http://static.kongdf.com/bg4.jpg"' alt="flask 使用高并发下引发系统崩溃修复记录"></a><div class="content"><a class="title" href="/posts/devops/Architecture/flask_api.html" title="flask 使用高并发下引发系统崩溃修复记录">flask 使用高并发下引发系统崩溃修复记录</a><time datetime="2024-05-26T16:00:00.000Z" title="发表于 2024-05-27 00:00:00">2024-05-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/devops/Architecture/react.html" title="React 经典案例"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/jackerzz/jackerzz.github.io@ersion1.1/images/canva/4751187.jpg" onerror='this.onerror=null,this.src="http://static.kongdf.com/bg4.jpg"' alt="React 经典案例"></a><div class="content"><a class="title" href="/posts/devops/Architecture/react.html" title="React 经典案例">React 经典案例</a><time datetime="2024-05-26T16:00:00.000Z" title="发表于 2024-05-27 00:00:00">2024-05-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/deepLearning/mysql-sysbench.html" title="mysql-8 压力测试"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/jackerzz/jackerzz.github.io@ersion1.1/images/canva/1142950.jpg" onerror='this.onerror=null,this.src="http://static.kongdf.com/bg4.jpg"' alt="mysql-8 压力测试"></a><div class="content"><a class="title" href="/posts/deepLearning/mysql-sysbench.html" title="mysql-8 压力测试">mysql-8 压力测试</a><time datetime="2024-05-01T16:00:00.000Z" title="发表于 2024-05-02 00:00:00">2024-05-02</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By Jackerzz-zzk</div><div class="framework-info"><span>框架</span> <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题</span> <a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script>function panguFn(){"object"==typeof pangu?pangu.autoSpacingPage():getScript("https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js").then(()=>{pangu.autoSpacingPage()})}function panguInit(){panguFn()}document.addEventListener("DOMContentLoaded",panguInit)</script><div class="js-pjax"></div><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="false" data-text="IU,iu" data-fontsize="15px" data-random="false" async></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>